global:
  scrape_bind: "0.0.0.0:8080"
  log_level: "info"
  default_timeout: "5s"
  default_interval: "30s"
  worker_count: 10
  jitter: "200ms"

services:
  - id: "homepage"
    name: "Company Website"
    type: "http"
    url: "https://example.com"
    interval: "30s"
    timeout: "5s"
    expected_status: [200, 301, 302]

  - id: "api"
    name: "API Endpoint"
    type: "http"
    url: "https://api.example.com/health"
    interval: "1m"
    timeout: "3s"
    expected_status: [200]
    expected_body_regex: "healthy"

  - id: "ssh"
    name: "Home Server SSH"
    type: "tcp"
    host: "127.0.0.1"
    port: 2222
    interval: "15s"
    timeout: "2s"

alerting:
  channels:
    email_admin:
      type: "email"
      smtp_host: "${SMTP_HOST}"
      smtp_port: 587
      username: "${SMTP_USER}"
      password: "${SMTP_PASS}"
      from: "Sitelert Monitoring <your-email@example.com>"
      to: ["an@example.com", "another@example.com"]

  routes:
    - match:
        service_ids: ["homepage", "ssh"]
      policy:
        failure_threshold: 3
        cooldown: "10m"
        recovery_alert: true
      notify: ["email_admin"]
